function wps_aa(){for(address_group of wps_aa_vars.instances)address_group.init&&document.querySelector(address_group.init)&&wps_aa_init_autocomplete(address_group)}function wps_aa_init_autocomplete(e){let a=document.querySelector(e.init);var r={fields:["address_components","geometry","name"]};e.allowed_countries&&(r.componentRestrictions={country:e.allowed_countries});let t=new google.maps.places.Autocomplete(a,r);t.addListener("place_changed",()=>{var a={},r=[];let s=t.getPlace();for(let n of s.address_components)a[n.types[0]]=n;for(var l in console.log(a),a){let o={};o.search="{"+l+":short_name}",a[l].short_name?o.replace=a[l].short_name:o.replace="",r.push(o);let c={};c.search="{"+l+":long_name}",c.replace=a[l].long_name,r.push(c)}let p={};p.search="{lat}",p.replace=s.geometry.location.lat(),r.push(p);let u={};u.search="{lng}",u.replace=s.geometry.location.lng(),r.push(u);let i={},h={};for(let m in i.search="{address1:short_name}",h.search="{address1:long_name}","standard"==wps_aa_address1_format(a.country.short_name)?(i.replace="",h.replace="",a.street_number&&a.street_number.short_name&&(i.replace=a.street_number.short_name,h.replace=a.street_number.long_name),a.route&&a.route.short_name&&(""!=i.replace&&(i.replace+=" "),i.replace+=a.route.short_name,""!=h.replace&&(h.replace+=" "),h.replace+=a.route.long_name)):(i.replace="",h.replace="",a.route&&a.route.short_name&&(i.replace=a.route.short_name,h.replace=a.route.long_name),a.street_number&&a.street_number.short_name&&(""!=i.replace&&(i.replace+=" "),i.replace+=a.street_number.short_name,""!=h.replace&&(h.replace+=" "),h.replace+=a.street_number.long_name)),r.push(i),r.push(h),e.fields){let f=e.fields[m].selector,d=e.fields[m].data.toString(),g=d,w,y=wps_aa_parse_atts(d),b=g.match(/[\w-]+=".*?"/g);for(replacement of(b&&b.forEach(function(e){g=g.replace(e,"")}),g=g.replace(/\s/g,""),r))w=replacement.replace,Object.keys(y).length>0&&y.forEach(function(e){replacement.search==e.key&&(e.hasOwnProperty("before")&&(w=e.before+w),e.hasOwnProperty("after")&&(w+=e.after))}),g=g.replace(replacement.search,w);wps_aa_change_value(f,g=g.replace(/{.*}/,""))}})}function wps_aa_parse_atts(e){let a=e.match(/{([^{}]+)}/g),r=[];if(a)for(let t of a){var s=t.slice(1,-1);let n=s.match(/[\w-]+=".*?"/g);if(n){n.forEach(function(e){s=s.replace(e,"")}),s=s.replace(/\s/g,"");let l={key:"{"+s+"}"};for(let o of n){let[c,p]=o.split("="),u=c.trim(),i=p.slice(1,-1);l[u]=i}r.push(l)}else r.push({key:t})}return r}function wps_aa_change_value(e,a){(where_to_populate=document.querySelector(e))&&(where_to_populate.value=a,where_to_populate.dispatchEvent(new Event("change")),where_to_populate.classList.contains("select2-hidden-accessible")&&jQuery(e).trigger("change"))}function wps_aa_address1_format(e){return["DE","AT","MX","CH"].includes(e)?"reverse":"standard"}
